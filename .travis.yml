sudo: false
addons:
  apt:
    packages:
    - libgmp-dev
env:
  matrix:
  - GHCVER=7.8
  - GHCVER=7.10
  - secure: jFgKYlBdMIZO9lcQ6qAw2ZvaAx3Cbs46gY9ANR/8N7Iz5m7FK10h1lEaPCdE55WuYmfh+q9Acg/899RfklcHlPfkaV+g3Myq4QJspjrcHEneowa1r7vPcdhXqehUcS7tWVqZHK+uG9KCuaY/3NjyazxRUgPE7osp8P7hgWkiqKmJKQ4LEMRCxGfXjO48+irWadm0AdTpbhsU1Evt9JZx36FDFxfgRus7Z46mrZJOqSTBpibV1e3Sr1T4GZp4KX8tmjAldeGqFi81v2sfhaR+AjVbL7CS/ETaiu5AXXqYCKQGo4ebvGBZTACNoQO3EaQ1IjQbGF//DoD/moPDtnQoHr9NNC9x6JP4mFsaOTvjjbahF07vQk6+2LUU/Fd3DtueR2Pu4UQyC8dlRD1U+OFVynxzgRE3Z/ngsJ8Q0Q6qD2puW2+VZvJgzcp+X/Nc+JxcjsdpGAILPOaqBLpmAJYIlqlgJUWRiaDRbGoXPnbmkQqYo0TNisCOvxfDpyDZXpGINOJjCyNmJ5LauT7dOEGbQUdz2VvfohOLxuGEGAfBNNvbidZZPaYTAnGkfd7TISjtkgyIu5NsW3n2mOO8ovQCppG2j34ZgB2nHci/KZWb4pF+WOITIhsezNENX0y+D4zmaJAI0ArB7Q+PFUuPjjk1ceikMJPOQJze/sSxuc16Gr4=

install:
- export STACK_YAML=stack-$GHCVER.yaml
- mkdir -p ~/.local/bin
- wget -qO- https://get.haskellstack.org/ | sh
- export PATH=~/.local/bin:$PATH
- stack --version
script:
- stack setup
- stack update
- stack build
- stack test
cache:
  directories:
  - "$HOME/.stack"
